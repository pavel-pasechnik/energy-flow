import{i as n}from"./vendor-afb53a8d.js";import{patchRequest as l}from"./api-energy-flow-b6e4bd35.js";let c;(()=>{const t={closeModalBtnRaiting:document.querySelector(".modal-raiting-close-btn"),modalRaiting:document.querySelector(".modal-raiting-wrapper")};document.addEventListener("click",e=>{e.target.classList.contains("rating-button")&&(c=e.target.dataset.action,a())}),t.closeModalBtnRaiting.addEventListener("click",a);function a(){t.modalRaiting.classList.toggle("is-hidden-rating")}})();const r=document.querySelectorAll(".stars i");r.forEach((t,a)=>{t.addEventListener("click",()=>{r.forEach((e,i)=>{a>=i?(e.classList.add("active"),e.setAttribute("data-value",a+1)):(e.classList.remove("active"),e.removeAttribute("data-value"))})})});const o=document.querySelector(".ratingForm"),u=o.querySelector("textarea");o.addEventListener("input",t=>{new FormData(o).forEach((e,i)=>{})});o.addEventListener("submit",t=>{t.preventDefault();const a=o.querySelector(".stars i.active").getAttribute("data-value"),e=o.querySelector('input[name="emailInput"]').value,i=u.value,s={rate:parseInt(a,10),email:e,review:i};g(s,c),console.log(s)});async function g(t,a){const e=`/exercises/${a}/rating`;if(t.rate===""||t.email===""||t.review===""){n.warning({title:"Caution",message:"Please enter form!",position:"topRight"});return}console.log("currentDataId:",a);try{(await l(e,t)).status===200&&(o.reset(),n.success({title:"Success",message:"Operation completed successfully.",position:"topRight"}))}catch(i){i.response&&i.response.status===409?n.error({title:"Conflict",message:"Operation failed due to a conflict. Please check the data and try again.",position:"topRight"}):n.warning({title:"Caution",message:i.message,position:"topRight"})}}
//# sourceMappingURL=modal-rating-ed80655e.js.map
