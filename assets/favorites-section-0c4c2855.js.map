{"version":3,"file":"favorites-section-0c4c2855.js","sources":["../../src/js/favorites-section.js"],"sourcesContent":["const ulFavoritesList = document.querySelector('.favorites-list-item');\r\nconst containerErrorMasseg = document.querySelector(\r\n  '.favorites-container-error-notification'\r\n);\r\n\r\nconst mainContainerFavorites = document.querySelector('.favorites-main');\r\nconst listPaginationBtn = document.querySelector(\r\n  '.favorites-pagination-container-btn'\r\n);\r\n\r\n// беремо значення поточної сторінки\r\n// const currentURL = window.location.href;\r\n\r\n// // визначаємо поточний Url для порівняння\r\n// const targetURL = 'http://localhost:5173/favorites.html';\r\n\r\n// функция яка повертає true або false при порівнянні\r\n// function checkURL() {\r\n//   if (currentURL === targetURL) {\r\n//     return true;\r\n//   } else {\r\n//     return false;\r\n//   }\r\n// }\r\n\r\nfunction checkURL() {\r\n  // беремо значення поточної сторінки\r\n  const currentURL = window.location.href;\r\n\r\n  // визначаємо поточний Url для порівняння\r\n  const targetURL = 'favorites';\r\n\r\n  // повертає true або false\r\n\r\n  return currentURL.includes(targetURL);\r\n}\r\n\r\nconst isOnTargetPage = checkURL();\r\n\r\nasync function renderFavoritseList() {\r\n  // умова при якої скріпт виконується\r\n  if (isOnTargetPage) {\r\n    mainContainerFavorites.classList.remove('is-hidden');\r\n    let arrayData = JSON.parse(localStorage.getItem('favorites'));\r\n\r\n    function check(array) {\r\n      console.log(array);\r\n\r\n      if (array.length === 0 || array === null) {\r\n        mainContainerFavorites.remove();\r\n        renderErrorCard();\r\n        return;\r\n      }\r\n      const perPage = 8;\r\n      let currentPage = 1;\r\n\r\n      if (window.matchMedia('(max-width: 376px)').matches) {\r\n        function favoritesList(array, perPage, currentPage) {\r\n          ulFavoritesList.innerHTML = '';\r\n          currentPage--;\r\n          const start = perPage * currentPage;\r\n          const end = start + perPage;\r\n          const paginationData = array.slice(start, end);\r\n          ulFavoritesList.innerHTML = cardMarking(paginationData);\r\n        }\r\n\r\n        // функція формування списку кнопочок + стилізация\r\n\r\n        function favoritesListPaginationBtn(arrData, perPage) {\r\n          listPaginationBtn.innerHTML = '';\r\n          const containerPagonationList = document.querySelector('.pagination');\r\n          const pagesCount = Math.ceil(arrData.length / perPage);\r\n\r\n          for (let i = 0; i < pagesCount; i++) {\r\n            const itemPagonationBtn = favoritesItemPaginationBtn(i + 1);\r\n            listPaginationBtn.appendChild(itemPagonationBtn);\r\n          }\r\n          containerPagonationList.appendChild(listPaginationBtn);\r\n        }\r\n\r\n        // формування та стилізація кількості кнопочок\r\n\r\n        function favoritesItemPaginationBtn(page) {\r\n          const itemPagonationBtn = document.createElement('li');\r\n          itemPagonationBtn.innerText = page;\r\n\r\n          if (currentPage == page) {\r\n            itemPagonationBtn.classList.add('favorites-pagination-btn');\r\n          }\r\n          if (currentPage !== page) {\r\n            itemPagonationBtn.classList.add(\r\n              'favorites-pagination-btn-not-activ'\r\n            );\r\n          }\r\n\r\n          itemPagonationBtn.addEventListener('click', () => {\r\n            currentPage = page;\r\n            favoritesList(array, perPage, currentPage);\r\n\r\n            let currentItemLi = document.querySelector(\r\n              'li.favorites-pagination-btn'\r\n            );\r\n            currentItemLi.classList.remove('favorites-pagination-btn');\r\n            currentItemLi.classList.add('favorites-pagination-btn-not-activ');\r\n\r\n            itemPagonationBtn.classList.remove(\r\n              'favorites-pagination-btn-not-activ'\r\n            );\r\n            itemPagonationBtn.classList.add('favorites-pagination-btn');\r\n          });\r\n\r\n          return itemPagonationBtn;\r\n        }\r\n\r\n        favoritesList(array, perPage, currentPage);\r\n        favoritesListPaginationBtn(array, perPage);\r\n      } else {\r\n        ulFavoritesList.innerHTML = cardMarking(array);\r\n      }\r\n\r\n      ulFavoritesList.addEventListener('click', event => {\r\n        const element = event.target;\r\n        if (array.length === 0 || array === null) {\r\n          mainContainerFavorites.classList.add('is-hidden');\r\n          renderErrorCard();\r\n          return;\r\n        }\r\n        if (element.classList.contains('favorites-btn-trash')) {\r\n          let i = element.dataset.id;\r\n          const b = array.filter(id => id._id !== i);\r\n          let c = localStorage.setItem('favorites', JSON.stringify(b));\r\n          console.log(i);\r\n          check(b);\r\n        }\r\n      });\r\n    }\r\n    check(arrayData);\r\n    // window.addEventListener('resize', check);\r\n  }\r\n  // переривання функції\r\n  else {\r\n    return;\r\n  }\r\n}\r\n\r\n// функція рендеру картки\r\n\r\nfunction cardMarking(obj) {\r\n  return obj.reduce(\r\n    (html, { bodyPart, burnedCalories, target, time, equipment, _id }) =>\r\n      html +\r\n      `<li class=\"favorits-item\">\r\n          <div class=\"favorites-container-nav\">\r\n            <div class=\"favorites-container-workout\">\r\n              <p class=\"favoritese-title\">WORKOUT</p>\r\n              <button type=\"button\" class=\"favorites-btn-trash\" data-id=\"${_id}\" \">\r\n                <svg width=\"16\" height=\"16\" class=\"favorites-trash\">\r\n                  <use href=\"../../src/img/sprite.svg#favorites-trash\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div class=\"favorites-container-start\">\r\n              <p class=\"favorites-title-btn-start\">Start</p>\r\n              <button type=\"button\" class=\"favorites-btn-arrow\" data-action=\"${_id}\">\r\n                <svg class=\"favorites-arrow\" width=\"14\" height=\"14\" alt=\"arrow\">\r\n                  <use href=\"../../src/img/sprite.svg#favorites-arrow\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"favorite-title-exercises\">\r\n            <svg width=\"24\" height=\"24\" class=\"favorites-icon-man\">\r\n              <use href=\"../../src/img/sprite.svg#favorites-man\"></use>\r\n            </svg>\r\n            <p class=\"favorites-title-name\">${target}</p>\r\n          </div>\r\n          <div class=\"favorites-description-workout\">\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\"\r\n                >Burned calories:\r\n              </span>\r\n              ${burnedCalories} / ${time} min\r\n            </p>\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\">Body part:</span>\r\n              ${bodyPart}\r\n            </p>\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\">Target:</span>\r\n              ${equipment}\r\n            </p>\r\n          </div>\r\n        </li>`,\r\n    ''\r\n  );\r\n}\r\n\r\nfunction renderErrorCard() {\r\n  return (containerErrorMasseg.innerHTML = `<h2 class=\"favorites-container-error-title\">Favorites</h2>\r\n    <div class=\"favorites-container-error-description\">\r\n      <img\r\n        srcset=\"\r\n          ../img/favorites-section/mobile-dumbbell.png             85w,\r\n          ../img/favorites-section/mobile-dumbbell@2x.png         170w,\r\n          ../img/favorites-section/tablet-desctop-dumbbell.png    116w,\r\n          ../img/favorites-section/tablet-desctop-dumbbell@2x.png 116w\r\n        \"\r\n        sizes=\"\r\n      (min-width: 1440px) 116px, \r\n      (min-width: 768px) 116px, \r\n      (max-width: 767px) 85px\"\r\n        src=\"../img/favorites-section/mobile-dumbbell.png\"\r\n        alt=\"dumbbell\"\r\n      />\r\n\r\n      <p class=\"favorites-error-description\">\r\n        It appears that you haven't added any exercises to your favorites yet.\r\n        To get started, you can add exercises that you like to your favorites\r\n        for easier access in the future.\r\n      </p>\r\n    </div>`);\r\n}\r\n\r\nrenderFavoritseList();\r\n\r\n"],"names":["ulFavoritesList","containerErrorMasseg","mainContainerFavorites","listPaginationBtn","checkURL","currentURL","targetURL","isOnTargetPage","renderFavoritseList","check","array","renderErrorCard","perPage","currentPage","favoritesList","start","end","paginationData","cardMarking","favoritesListPaginationBtn","arrData","containerPagonationList","pagesCount","i","itemPagonationBtn","favoritesItemPaginationBtn","page","currentItemLi","event","element","b","id","arrayData","obj","html","bodyPart","burnedCalories","target","time","equipment","_id"],"mappings":"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"}