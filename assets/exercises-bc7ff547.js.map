{"version":3,"file":"exercises-bc7ff547.js","sources":["../../src/js/exercises.js"],"sourcesContent":["import { getRequest } from './api-energy-flow';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst subspecies = document.querySelector('.subspecies');\nconst navBtns = document.querySelector('.exercises-nav-panel');\nconst exercisesGallery = document.querySelector('.exercises-gallery');\nconst searchInput = document.querySelector('.exercises-nav-input');\nconst searchForm = document.querySelector('.exercises-nav-input-block');\n\nlet currentPage = 1;\nlet currentSubspecies = 'Muscles';\nlet lowerCurrentSubspecies;\nlet screenWidth = window.innerWidth;\nlet currentLimit = 0;\nlet currentLimitExercises = 0;\nlet currentValue = '';\n// Логіка для відображення цількості карток\nif (screenWidth <= 375) {\n  currentLimit = 8;\n  currentLimitExercises = 8;\n} else if (screenWidth <= 768) {\n  currentLimit = 12;\n  currentLimitExercises = 8;\n} else {\n  currentLimit = 12;\n  currentLimitExercises = 9;\n}\n\nconst params = {\n  filter: currentSubspecies,\n  page: currentPage,\n  limit: currentLimit,\n};\n\nconst params2 = {\n  page: currentPage,\n  limit: currentLimitExercises,\n};\nconst lightbox = new SimpleLightbox('.subspecies a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  close: true,\n});\nfunction renderSubspecies(params) {\n  const requestParams = getRequest('/filters', params)\n    .then(data => {\n      const { results } = data;\n      console.log(results);\n      let subspeciesHtml = results.reduce(\n        (html, image) =>\n          html +\n          `<a class=\"subspecies-item\" href=\"\">\n  <button\n   type=\"button\"\n   data-value=\"${image.name}\"\n    class=\"subspecies-item-btn\"\n    style=\"\n      background: linear-gradient(\n          0deg,\n          rgba(16, 16, 16, 0.7) 0%,\n          rgba(16, 16, 16, 0.7) 100%\n        ),\n        url(${image.imgUrl}) lightgray -16.825px\n          0.844px / 121.36% 108.504% no-repeat;\n    \"\n  >\n  <p class=\"subspecies-item-name\">${image.name}</p>\n  <p class=\"subspecies-item-group\">${image.filter}</p>\n    </button>\n</a>`,\n        ''\n      );\n      subspecies.innerHTML = subspeciesHtml;\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error(error.message);\n    });\n}\nrenderSubspecies(params);\n\nnavBtns.addEventListener('click', event => {\n  currentSubspecies = event.target.textContent;\n  params.filter = currentSubspecies;\n  delete params2[lowerCurrentSubspecies];\n  renderSubspecies(params);\n  lightbox.refresh();\n  showGallery(subspecies);\n  hideGallery(exercisesGallery);\n  hideGallery(searchForm);\n});\n// Функції щоб сховати або показати галерею\nfunction showGallery(doShow) {\n  doShow.style.display = 'flex';\n}\nfunction hideGallery(doHide) {\n  doHide.style.display = 'none';\n}\n// Слухач на картки з підвидами\n\nsubspecies.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.tagName === 'BUTTON') {\n    currentValue = event.target.dataset.value;\n    lowerCurrentSubspecies = currentSubspecies.toLowerCase();\n    if (lowerCurrentSubspecies === 'body parts') {\n      lowerCurrentSubspecies = 'bodypart';\n    }\n    params2[lowerCurrentSubspecies] = currentValue;\n    console.log(params2);\n    hideGallery(subspecies);\n    showGallery(exercisesGallery);\n    showGallery(searchForm);\n    renderExercises(params2);\n\n    console.log(params2);\n  }\n});\n// Слухач на інпут\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(searchInput.value);\n  params2.keyword = searchInput.value.trim();\n  console.log(params2);\n  renderExercises(params2);\n  delete params2.keyword;\n  console.log(params2);\n});\n// слухач при натисканні на старт, на картці з вправою, повертає її ID\nfunction getExercisesId() {\n  exercisesGallery.addEventListener('click', event => {\n    event.preventDefault();\n\n    if (event.target.tagName === 'BUTTON') {\n      const liElement = event.target.dataset.action;\n      console.log(liElement);\n      return liElement;\n    }\n  });\n}\nconst ExercisesId = getExercisesId();\n\n// Функція для рендеру вправ\n\nfunction renderExercises(param) {\n  const requestParams2 = getRequest('/exercises', param)\n    .then(data => {\n      console.log(data);\n      const { page, totalPages, results } = data;\n      console.log(`page: ${page}, totalPages: ${totalPages}`);\n      console.log(results);\n      if (Array.from(results).length === 0) {\n        console.log('Without result');\n      }\n      let ExercisesHtml = results.reduce(\n        (html, image) =>\n          html +\n          `<a class=\"exercises-gallery-item\" >\n  <div class=\"exercises-gallery-top\">\n    <div class=\"exercises-gallery-top-left\">\n      <p class=\"badge\">WORKOUT</p>\n      <label class=\"exercises-gallery-raiting\">${image.rating}</label\n      ><svg class=\"exercises-gallery-raiting-svg\" width=\"18\" height=\"18\">\n        <use href=\"../img/Exercises/symbol-defs.svg#icon-star\"></use>\n      </svg>\n    </div>\n    <button class=\"exercises-gallery-btn-start\" data-action=\"${image._id}\" type=\"button\">\n      Start\n      <svg class=\"exercises-gallery-btn-icon\" width=\"16\" height=\"16\">\n        <use href=\"../img/Exercises/symbol-defs.svg#icon-arrow\"></use>\n      </svg>\n    </button>\n  </div>\n  <div class=\"exercises-gallery-center\">\n    <svg class=\"exercises-gallery-center-icon\" width=\"24\" height=\"24\">\n      <use href=\"../img/Exercises/symbol-defs.svg#icon-icon\"></use>\n    </svg>\n    <label class=\"exercises-gallery-name\">${image.name}</label>\n  </div>\n  <ul class=\"exercises-gallery-bottom\">\n    <li class=\"exercises-gallery-bottom-point\">\n      Burned calories:<span class=\"exercises-gallery-bottom-point-value\"\n        >${image.burnedCalories} / 3 min</span\n      >\n    </li>\n    <li class=\"exercises-gallery-bottom-point\">\n      Body part:\n      <span class=\"exercises-gallery-bottom-point-value\"\n        >${image.bodyPart}</span\n      >\n    </li>\n    <li class=\"exercises-gallery-bottom-point\">\n      Target:<span class=\"exercises-gallery-bottom-point-value\"\n        >${image.target}</span\n      >\n    </li>\n  </ul>\n</a>`,\n        ''\n      );\n\n      exercisesGallery.innerHTML = ExercisesHtml;\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n// awdawdawdaw\n"],"names":["subspecies","navBtns","exercisesGallery","searchInput","searchForm","currentPage","currentSubspecies","lowerCurrentSubspecies","screenWidth","currentLimit","currentLimitExercises","currentValue","params","params2","lightbox","SimpleLightbox","renderSubspecies","getRequest","data","results","subspeciesHtml","html","image","error","event","showGallery","hideGallery","doShow","doHide","renderExercises","getExercisesId","liElement","param","page","totalPages","ExercisesHtml"],"mappings":"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"}