{"version":3,"file":"footer-54f3f6b3.js","sources":["../../src/js/footer.js"],"sourcesContent":["\n// !Sample import of postRequest and its use\n//\n// import { postRequest } from './api-energy-flow';\n//\n// postRequest('/subscription', { email: 'test@gmail.com' }).then(data => {\n//   console.log(data);\n// });\n\n\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport 'sweetalert2/src/sweetalert2.scss';\nconst fullUrl = window.location.pathname;\nconst lastSlashIndex = fullUrl.lastIndexOf('/');\nconst result = fullUrl.substring(lastSlashIndex);\n\nif (result === '/index.html' || result === '/') {\n    const footerForm = document.querySelector('#footer-form'); \n\n\n  footerForm.addEventListener('submit', function (event) {\n    event.preventDefault();\n    submitForm();\n    footerForm.reset();\n  });\n}\n\nasync function submitForm() {\n    const footerForm = document.querySelector('#footer-form');\n  const formData = new FormData(footerForm);\n  const emailValue = formData.get('email');\n  const formattedData = { email: emailValue };\n\n  try {\n    const response = await axios.post(footerForm.action, formattedData, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    const data = response.data;\n    if (data && data.message) {\n      showSuccess();\n    }\n  } catch (error) {\n    if (error.response && error.response.status !== 409) {\n      showError();\n    }\n    if (error.response && error.response.status === 409) {\n      showError409();\n    }\n  }\n}\n\nfunction showError() {\n  Swal.fire({\n    title: 'Bad request',\n    text: 'Something went wrong.',\n    icon: 'error',\n  });\n}\n\nfunction showError409() {\n  Swal.fire({\n    title: 'Warning!',\n    text: 'Subscription already exists',\n    icon: 'warning',\n  });\n}\n\nfunction showSuccess() {\n  Swal.fire({\n    title: 'Thank you for enrolling in our training program!',\n    text: \"We assure you of effective and top-notch training sessions that will exceed your expectations. Stick with us, and we guarantee you numerous exciting learning experiences.\",\n    icon: 'success',\n  });\n}"],"names":["fullUrl","lastSlashIndex","result","footerForm","event","submitForm","formattedData","data","axios","showSuccess","error","showError","showError409","Swal"],"mappings":"gDAaA,MAAMA,EAAU,OAAO,SAAS,SAC1BC,EAAiBD,EAAQ,YAAY,GAAG,EACxCE,EAASF,EAAQ,UAAUC,CAAc,EAE/C,GAAIC,IAAW,eAAiBA,IAAW,IAAK,CAC5C,MAAMC,EAAa,SAAS,cAAc,cAAc,EAG1DA,EAAW,iBAAiB,SAAU,SAAUC,EAAO,CACrDA,EAAM,eAAc,EACpBC,IACAF,EAAW,MAAK,CACpB,CAAG,CACH,CAEA,eAAeE,GAAa,CACxB,MAAMF,EAAa,SAAS,cAAc,cAAc,EAGpDG,EAAgB,CAAE,MAFP,IAAI,SAASH,CAAU,EACZ,IAAI,OAAO,GAGvC,GAAI,CAOF,MAAMI,GANW,MAAMC,EAAM,KAAKL,EAAW,OAAQG,EAAe,CAClE,QAAS,CACP,eAAgB,kBACjB,CACP,CAAK,GAEqB,KAClBC,GAAQA,EAAK,SACfE,GAEH,OAAQC,EAAO,CACVA,EAAM,UAAYA,EAAM,SAAS,SAAW,KAC9CC,IAEED,EAAM,UAAYA,EAAM,SAAS,SAAW,KAC9CE,GAEH,CACH,CAEA,SAASD,GAAY,CACnBE,EAAK,KAAK,CACR,MAAO,cACP,KAAM,wBACN,KAAM,OACV,CAAG,CACH,CAEA,SAASD,GAAe,CACtBC,EAAK,KAAK,CACR,MAAO,WACP,KAAM,8BACN,KAAM,SACV,CAAG,CACH,CAEA,SAASJ,GAAc,CACrBI,EAAK,KAAK,CACR,MAAO,mDACP,KAAM,6KACN,KAAM,SACV,CAAG,CACH"}