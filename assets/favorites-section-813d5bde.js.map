{"version":3,"file":"favorites-section-813d5bde.js","sources":["../../src/js/favorites-section.js"],"sourcesContent":["\r\nimport { getRequest } from './api-energy-flow';\r\n\r\nconst ulFavoritesList = document.querySelector('.favorites-list-item');\r\n\r\nconst savedFavoritesExercises = JSON.parse(localStorage.getItem('favorites'));\r\n\r\n// функція отримання массиву вправ з localStorage\r\nasync function getFavoritseList() {\r\n  let arrayData = [];\r\n\r\n  for (const _id of savedFavoritesExercises) {\r\n    await getRequest(`/exercises/${_id}`)\r\n      .then(data => {\r\n        return arrayData.push(data);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n  return arrayData;\r\n}\r\n\r\n// пагінация по сторінкам за допомогою кнопочок\r\n\r\nasync function renderFavoritseList() {\r\n  let arrayData = await getFavoritseList();\r\n  const perPage = 8;\r\n  let currentPage = 1;\r\n\r\n  // функція для показу сторінки за значенням perPage\r\n  function check() {\r\n    if (window.matchMedia('(max-width: 376px)').matches) {\r\n      function favoritesList(arrayData, perPage, currentPage) {\r\n        ulFavoritesList.innerHTML = '';\r\n        currentPage--;\r\n        const start = perPage * currentPage;\r\n        const end = start + perPage;\r\n        const paginationData = arrayData.slice(start, end);\r\n        ulFavoritesList.innerHTML = cardMarking(paginationData);\r\n      }\r\n\r\n      // функція формування списку кнопочок + стилізация\r\n\r\n      function favoritesListPaginationBtn(arrData, perPage) {\r\n        const containerPagonationList = document.querySelector('.pagination');\r\n        const pagesCount = Math.ceil(arrData.length / perPage);\r\n        const listPaginationBtn = document.createElement('ul');\r\n        listPaginationBtn.classList.add('favorites-pagination-container-btn');\r\n\r\n        for (let i = 0; i < pagesCount; i++) {\r\n          const itemPagonationBtn = favoritesItemPaginationBtn(i + 1);\r\n          listPaginationBtn.appendChild(itemPagonationBtn);\r\n        }\r\n        containerPagonationList.appendChild(listPaginationBtn);\r\n      }\r\n\r\n      // формування та стилізація кількості кнопочок\r\n\r\n      function favoritesItemPaginationBtn(page) {\r\n        const itemPagonationBtn = document.createElement('li');\r\n        itemPagonationBtn.innerText = page;\r\n\r\n        if (currentPage == page) {\r\n          itemPagonationBtn.classList.add('favorites-pagination-btn');\r\n        }\r\n        if (currentPage !== page) {\r\n          itemPagonationBtn.classList.add('favorites-pagination-btn-not-activ');\r\n        }\r\n\r\n        itemPagonationBtn.addEventListener('click', () => {\r\n          // event.preventDefault();\r\n          currentPage = page;\r\n          favoritesList(arrayData, perPage, currentPage);\r\n\r\n          let currentItemLi = document.querySelector(\r\n            'li.favorites-pagination-btn'\r\n          );\r\n          currentItemLi.classList.remove('favorites-pagination-btn');\r\n          currentItemLi.classList.add('favorites-pagination-btn-not-activ');\r\n\r\n          itemPagonationBtn.classList.remove(\r\n            'favorites-pagination-btn-not-activ'\r\n          );\r\n          itemPagonationBtn.classList.add('favorites-pagination-btn');\r\n        });\r\n\r\n        return itemPagonationBtn;\r\n      }\r\n\r\n      favoritesList(arrayData, perPage, currentPage);\r\n      favoritesListPaginationBtn(arrayData, perPage);\r\n    } else {\r\n      ulFavoritesList.innerHTML = cardMarking(arrayData);\r\n    }\r\n  }\r\n  check();\r\n  window.addEventListener('resize', check);\r\n}\r\n\r\n// функція рендеру картки\r\n\r\nfunction cardMarking(obj) {\r\n  return obj.reduce(\r\n    (html, { bodyPart, burnedCalories, target, time, equipment }) =>\r\n      html +\r\n      `<li class=\"favorits-item\">\r\n          <div class=\"favorites-container-nav\">\r\n            <div class=\"favorites-container-workout\">\r\n              <p class=\"favoritese-title\">WORKOUT</p>\r\n              <button type=\"button\" class=\"favorites-btn-trash\">\r\n                <svg width=\"16\" height=\"16\" class=\"favorites-trash\">\r\n                  <use href=\"./img/symbol-defs.svg#icon-trash-favorites\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div class=\"favorites-container-start\">\r\n              <p class=\"favorites-title-btn-start\">Start</p>\r\n              <button type=\"button\" class=\"favorites-btn-arrow\">\r\n                <svg class=\"favorites-arrow\" width=\"14\" height=\"14\" alt=\"arrow\">\r\n                  <use href=\"../img/favorites-arrow.svg\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"favorite-title-exercises\">\r\n            <svg width=\"24\" height=\"24\" class=\"favorites-icon-man\">\r\n              <use href=\"./img/symbol-defs.svg#icon-icon-favorites\"></use>\r\n            </svg>\r\n            <p class=\"favorites-title-name\">${equipment}</p>\r\n          </div>\r\n          <div class=\"favorites-description-workout\">\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\"\r\n                >Burned calories:\r\n              </span>\r\n              ${burnedCalories} / ${time} min\r\n            </p>\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\">Body part:</span>\r\n              ${bodyPart}\r\n            </p>\r\n            <p class=\"favorites-title-descriptoin\">\r\n              <span class=\"favorites-description-workout-span\">Target:</span>\r\n              ${target}\r\n            </p>\r\n          </div>\r\n        </li>`,\r\n    ''\r\n  );\r\n}\r\n\r\nrenderFavoritseList();\r\n"],"names":["ulFavoritesList","savedFavoritesExercises","getFavoritseList","arrayData","_id","getRequest","data","error","renderFavoritseList","perPage","currentPage","check","favoritesList","start","end","paginationData","cardMarking","favoritesListPaginationBtn","arrData","containerPagonationList","pagesCount","listPaginationBtn","i","itemPagonationBtn","favoritesItemPaginationBtn","page","currentItemLi","obj","html","bodyPart","burnedCalories","target","time","equipment"],"mappings":"wFAGA,MAAMA,EAAkB,SAAS,cAAc,sBAAsB,EAE/DC,EAA0B,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EAG5E,eAAeC,GAAmB,CAChC,IAAIC,EAAY,CAAA,EAEhB,UAAWC,KAAOH,EAChB,MAAMI,EAAW,cAAcD,CAAG,EAAE,EACjC,KAAKE,GACGH,EAAU,KAAKG,CAAI,CAC3B,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEtC,OAAOJ,CACT,CAIA,eAAeK,GAAsB,CACnC,IAAIL,EAAY,MAAMD,IACtB,MAAMO,EAAU,EAChB,IAAIC,EAAc,EAGlB,SAASC,GAAQ,CACf,GAAI,OAAO,WAAW,oBAAoB,EAAE,QAAS,CACnD,IAASC,EAAT,SAAuBT,EAAWM,EAASC,EAAa,CACtDV,EAAgB,UAAY,GAC5BU,IACA,MAAMG,EAAQJ,EAAUC,EAClBI,EAAMD,EAAQJ,EACdM,EAAiBZ,EAAU,MAAMU,EAAOC,CAAG,EACjDd,EAAgB,UAAYgB,EAAYD,CAAc,CACvD,EAIQE,EAAT,SAAoCC,EAAST,EAAS,CACpD,MAAMU,EAA0B,SAAS,cAAc,aAAa,EAC9DC,EAAa,KAAK,KAAKF,EAAQ,OAAST,CAAO,EAC/CY,EAAoB,SAAS,cAAc,IAAI,EACrDA,EAAkB,UAAU,IAAI,oCAAoC,EAEpE,QAASC,EAAI,EAAGA,EAAIF,EAAYE,IAAK,CACnC,MAAMC,EAAoBC,EAA2BF,EAAI,CAAC,EAC1DD,EAAkB,YAAYE,CAAiB,CAChD,CACDJ,EAAwB,YAAYE,CAAiB,CACtD,EAIQG,EAAT,SAAoCC,EAAM,CACxC,MAAMF,EAAoB,SAAS,cAAc,IAAI,EACrD,OAAAA,EAAkB,UAAYE,EAE1Bf,GAAee,GACjBF,EAAkB,UAAU,IAAI,0BAA0B,EAExDb,IAAgBe,GAClBF,EAAkB,UAAU,IAAI,oCAAoC,EAGtEA,EAAkB,iBAAiB,QAAS,IAAM,CAEhDb,EAAce,EACdb,EAAcT,EAAWM,EAASC,CAAW,EAE7C,IAAIgB,EAAgB,SAAS,cAC3B,6BACZ,EACUA,EAAc,UAAU,OAAO,0BAA0B,EACzDA,EAAc,UAAU,IAAI,oCAAoC,EAEhEH,EAAkB,UAAU,OAC1B,oCACZ,EACUA,EAAkB,UAAU,IAAI,0BAA0B,CACpE,CAAS,EAEMA,CACR,EAEDX,EAAcT,EAAWM,EAASC,CAAW,EAC7CO,EAA2Bd,EAAWM,CAAO,CACnD,MACMT,EAAgB,UAAYgB,EAAYb,CAAS,CAEpD,CACDQ,IACA,OAAO,iBAAiB,SAAUA,CAAK,CACzC,CAIA,SAASK,EAAYW,EAAK,CACxB,OAAOA,EAAI,OACT,CAACC,EAAM,CAAE,SAAAC,EAAU,eAAAC,EAAgB,OAAAC,EAAQ,KAAAC,EAAM,UAAAC,CAAW,IAC1DL,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAuBwCK,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOvCH,CAAc,MAAME,CAAI;AAAA;AAAA;AAAA;AAAA,gBAIxBH,CAAQ;AAAA;AAAA;AAAA;AAAA,gBAIRE,CAAM;AAAA;AAAA;AAAA,eAIlB,EACJ,CACA,CAEAvB,EAAqB"}